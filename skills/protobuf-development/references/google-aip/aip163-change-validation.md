---
title: Change Validation (AIP-163)
impact: MEDIUM
impactDescription: Allows users to preview the effect of a change without executing it, using a `validate_only` field.
tags: protobuf, aip, validation, preview
---

## Change Validation (AIP-163)

**Impact: MEDIUM**

"Dry run" or validation-only requests are essential for complex operations where users want to ensure a request will succeed and see the outcome without committing the change.

**Implementation Rules:**

- **Field**: Include `bool validate_only` in the request message.
- **Behavior**:
  - The server must perform all permission checks and validation as it would for a live request.
  - If validation fails, the request must fail with the same error as a live request.
  - If validation succeeds, return the same status code, headers, and (if feasible) response body.
- **Auto-generated IDs**: Fields like ID or create/update times may be omitted on validation if they are generated by the system.
- **Declarative-Friendly**: Resources marked as declarative-friendly (AIP-128) _must_ include `validate_only` on all mutation methods.

**Correct (Validate Only Pattern):**

```proto
message CreateBookRequest {
  string parent = 1;
  Book book = 2;

  // If true, validate the request but do not create the book.
  bool validate_only = 3;
}
```

Reference: [AIP-163: Change validation](https://google.aip.dev/163)
